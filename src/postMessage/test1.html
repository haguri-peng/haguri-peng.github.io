<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>test1</title>
  
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
      //window.parent.postMessage(location.href, 'https://test.wanju.go.kr');
      postMessagePromise(location.href, 'https://test.wanju.go.kr')
        .then(() => console.log('success!!'))
        .catch(err => console.error('postMessage Error >> ' + err));
    });
    
    function postMessagePromise(data, targetOrigin) {
      return new Promise((resolve, reject) => {
        try {
          window.parent.postMessage(data, targetOrigin);
          resolve();
        } catch (err) {
          reject(err);
        }
      });
    }
  </script>
</head>
<body>
  <h1>TEST1</h1>
  <a href="https://haguri-peng.github.io/src/postMessage/test2.html">TEST2 이동</a>
</body>
</html>
